{% extends 'backOffice/base.html.twig' %}

{% block title %} AJouter un nouvelle article {% endblock %}

{% block body %}


    {{ form_start(form) }}
        <fieldset class="uk-fieldset">

            <legend class="uk-legend">Ajouter un article</legend>
            <ul class="uk-subnav" uk-margin>
                <li><a class="uk-button uk-button-text" href="#modal-example" uk-toggle>Ajouter une Categorie</a></li>
            </ul>
            <div class="uk-margin">
                {{ form_label(form.category, 'Catégorie de l\'article') }}
                {{ form_widget(form.category) }}
                {{ form_errors(form.category) }}
            </div>
            <div class="uk-margin">
                {{ form_label(form.title, 'Titre') }}
                {{ form_widget(form.title) }}
                {{ form_errors(form.title) }}
            </div>
            <div class="uk-margin">
                {{ form_label(form.seoDescription, 'Description pour le référencement') }}
                {{ form_widget(form.seoDescription) }}
                {{ form_errors(form.seoDescription) }}
            </div>
            <div class="uk-margin">
                {{ form_label(form.description, 'Description') }}
                {{ form_widget(form.description, {'attr': {'class': 'ckeditor'}}) }}
                {{ form_errors(form.description) }}
            </div>

            <div class="uk-margin">
                {{ form_label(form.imageFileMiniature, 'Ajouter une miniature pour l\'article') }}
                {{ form_widget(form.imageFileMiniature, {'attr': {'required': 'true'}}) }}
                {{ form_errors(form.imageFileMiniature) }}
            </div>

            <div class="uk-margin">
                {{ form_label(form.imageFiles, 'Ajouter des images') }}
                {{ form_widget(form.imageFiles) }}
                {{ form_errors(form.imageFiles) }}
            </div>

            <div class="uk-margin">
                {{ form_label(form.tags, 'Ajouter des tags') }}
                {{ form_widget(form.tags) }}
                {{ form_errors(form.tags) }}
            </div>
            <button type="submit" class="uk-button uk-button-primary">Ajouter</button>
        </fieldset>
    {{ form_end(form) }}

    <!-- This is the modal -->
    <div id="modal-example" uk-modal>
        <div class="uk-modal-dialog uk-modal-body">
            <h2 class="uk-modal-title">Ajouter une catégorie</h2>
            {{ form_start(form_category) }}
            <div class="uk-margin">
            {{ form_widget(form_category.name) }}
            </div>
            <button type="submit" class="uk-button uk-button-primary">Ajouter</button>
            {{ form_end(form_category) }}
        </div>
    </div>

{% endblock %}

{% block javascripts %}
{{ parent() }}
    <script src="{{ asset('ckeditor/adapters/jquery.js') }}" type="text/javascript"></script>
    <script src="{{ asset('ckeditor/ckeditor.js') }}" type="text/javascript"></script>
    <script type="text/javascript">
        $(function() {
            $('textarea.ckeditor').ckeditor();
        });
    </script>
{% endblock %}